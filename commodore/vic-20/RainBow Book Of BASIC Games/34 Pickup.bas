100 REM PICKUP
110 GOSUB 1100
120 PRINT"{space*2}pickup sticks"
130 LET T=4:GOSUB 1400:GOSUB 2800
140 LET S=21:LET L=7
150 GOSUB 2800:PRINT:PRINT
160 LET Z$=STR$(S)
170 PRINT "total is ";Z$
180 LET T=1:GOSUB 1400
190 PRINT:PRINT"your go ";
200 GOSUB 2100
210 IF K>L THEN GOTO 150
220 IF K<=0 THEN GOTO 280
230 IF K>S THEN GOTO 150
240 LET S=S-K
250 IF S>0 THEN GOTO 330
260 IF S=0 THEN GOTO 300
270 LET S=S+K
280 PRINT:PRINT"silly":GOSUB 1400:GOTO 150
290 LET T=2:GOSUB 1400:GOTO 410
300 PRINT:PRINT "you took last stick"
310 PRINT:PRINT "you lose !!"
320 GOTO 500
330 LET Z$=STR$(S)
340 PRINT:PRINT "total is ";Z$
350 LET T=1:GOSUB 1400
360 IF S<>1 THEN GOTO 400
370 PRINT:PRINT "i have to take "
380 PRINT:PRINT "last stick"
390 PRINT:PRINT "you win !!":GOTO 500
400 LET R=S-INT((S-1)/(L+1))*(L+1)-1:IF R>0 THEN GOTO 420
410 LET N=S-1:GOSUB 1300:IF R>L THEN GOTO 410
420 LET Z$=STR$(R)
430 PRINT:PRINT "i take away ";Z$
440 LET S=S-R
450 PRINT
460 LET Z$=STR$(S)
470 PRINT "total is ";Z$
480 LET T=3:GOSUB 1400:GOSUB 2800
490 GOTO 150
500 STOP
1000 REM VIC20 SUBROUTINES
1100 W=20:D=23
1110 F=8:GOSUB 1200:RETURN
1200 PRINT CHR$(147)
1210 FOR LL=1 TO 8:PRINT:NEXT LL
1220 PRINT;
1230 RETURN
1300 R=INT(RND(1)*N+1):RETURN
1400 FOR Z=1 TO 1000*T:NEXT Z:RETURN
1500 GET G$:IF G$="" THEN 1500
1510 RETURN
1600 GET K$:RETURN
1700 PRINT CHR$(19)
1710 IF Y>0 THEN FOR LL=1 TO Y:PRINT CHR$(17);:NEXT LL
1720 IF X>0 THEN FOR LL=1 TO X:PRINT CHR$(29);:NEXT LL
1730 RETURN
1800 IF X>0 THEN FOR LL=1 TO X:PRINT CHR$(29);:NEXT LL
1810 RETURN
1900 PRINT CHR$(145);:RETURN
2000 PRINT CHR$(29);:RETURN
2100 INPUT K:RETURN
2200 INPUT K$:RETURN
2300 PRINT CHR$(147):RETURN
2400 POKE 36878,15:POKE 36876,Z+128
2410 FOR M=1 TO 50:NEXT M
2420 POKE 36876,0:RETURN
2500 R$=CHR$(R+64):RETURN
2600 P$=MID$(K$,P,1):RETURN
2700 GOSUB 2600:A=ASC(P$):RETURN
2800 PRINT CHR$(147):RETURN
2900 DIM V$(26):RETURN
3000 DIM W$(60):RETURN
3100 GG=ASC(G$):RETURN
